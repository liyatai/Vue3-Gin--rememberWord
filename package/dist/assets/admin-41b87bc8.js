import{_}from"./myAxios-1e2d0517.js";import{d as S,r as h,a as m,c as I,b as a,u as g,i as v,w as o,e as c,o as z,h as f,p as N,j as T,m as B,_ as U}from"./index-197aefc0.js";const b=i=>(N("data-v-175dddc7"),i=i(),T(),i),L={class:"base"},R=b(()=>c("span",{class:"head"},"单词表管理",-1)),$=b(()=>c("br",null,null,-1)),j=b(()=>c("br",null,null,-1)),E=b(()=>c("br",null,null,-1)),J={class:"btable"},O=S({__name:"admin",setup(i){let n=h(""),s=h(""),d=h();(async()=>{const e=await _.get("/admin/detail");d.value=e.data})();const w=async()=>{if(confirm("确定要执行此操作吗？")){console.log("用户确认操作");const e=await _.get("/admin/addTable",{params:{name:n.value}});console.log(e.data),location.reload()}else console.log("用户取消操作")},y=async()=>{const e=await _.get("/admin/search",{params:{name:s.value}});console.log(e.data),d.value=e.data},x=async e=>{if(confirm("确定要执行此操作吗")){const l=new URLSearchParams;l.append("item",JSON.stringify(d.value[e.$index]));const r=await _.post("/admin/delTable",l);window.alert(r.data)}else console.log("用户拒绝了操作");location.reload()},C=e=>{sessionStorage.setItem("name",d.value[e.$index].name),B.push("/manage")};return(e,l)=>{const r=m("el-input"),p=m("el-button"),u=m("el-table-column"),V=m("el-table");return z(),I("div",L,[R,$,a(r,{modelValue:g(n),"onUpdate:modelValue":l[0]||(l[0]=t=>v(n)?n.value=t:n=t),placeholder:"请输入要添加的表名",class:"input top",maxlength:"20"},null,8,["modelValue"]),a(p,{type:"primary",size:"default",onClick:w,class:"add top",round:""},{default:o(()=>[f("添加")]),_:1}),j,E,a(r,{modelValue:g(s),"onUpdate:modelValue":l[1]||(l[1]=t=>v(s)?s.value=t:s=t),placeholder:"请输入要搜索的表",class:"serach top"},null,8,["modelValue"]),a(p,{type:"warning",size:"default",onClick:y,round:"",class:"sinput top"},{default:o(()=>[f("搜索")]),_:1}),c("div",J,[a(V,{data:g(d),stripe:"",style:{width:"90%"},class:"table"},{default:o(()=>[a(u,{prop:"name",label:"单词组名",width:"180",align:"center"}),a(u,{prop:"init",label:"创建/修改时间",width:"180",align:"center"}),a(u,{prop:"len",label:"单词数量",width:"180",align:"center"}),a(u,{prop:"",label:"操作",align:"center"},{default:o(t=>[a(p,{type:"success",size:"default",onClick:k=>C(t),round:""},{default:o(()=>[f("修改")]),_:2},1032,["onClick"]),a(p,{type:"danger",size:"default",onClick:k=>x(t),round:""},{default:o(()=>[f("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])])}}});const A=U(O,[["__scopeId","data-v-175dddc7"]]);export{A as default};
