import{_ as r}from"./myAxios-1e2d0517.js";import{u as S}from"./func-b9498de8.js";import{d as V,r as f,a as _,c as I,e as g,t as N,b as l,w as d,u as v,i as $,o as z,h as m,p as W,j as B,_ as L}from"./index-197aefc0.js";const h=p=>(W("data-v-82390713"),p=p(),B(),p),j={class:"base"},J={class:"head"},O=h(()=>g("br",null,null,-1)),R=h(()=>g("br",null,null,-1)),U={class:"btable"},D=V({__name:"manage",setup(p){const s=f(sessionStorage.getItem("name"));let i=f(""),t=f();(async()=>{const a=await r.get("/word/getword",{params:{item:s.value}});t.value=a.data})();const b=async a=>{const e=(await r.get("/word/getword",{params:{item:s.value}})).data,u=t.value[a.$index];for(let n=0;n<e.length;n++)e[n].eng==t.value[a.$index].eng&&(e[n].eng=prompt("输入英文",u.eng),e[n].chi=prompt("输入英文",u.chi));S(s.value,e)},w=()=>{var e;let a={eng:"",chi:""};a.eng=prompt("请输入英文"),a.chi=prompt("请输入中文"),t.value==null&&(t.value=[]),(e=t.value)==null||e.push(a);let o=new URLSearchParams;o.append("list",JSON.stringify(t.value)),o.append("name",s.value),r.post("/admin/addWord",o)},y=a=>{var e;const o=t.value[a.$index];(e=t.value)==null||e.splice(a.$index,1),r.get("/admin/delWord",{params:{word:JSON.stringify(o),name:s.value}})},x=async()=>{const a=await r.get("/admin/findWord",{params:{item:i.value,table:s.value}});t.value=a.data,console.log(a.data)};return(a,o)=>{const e=_("el-button"),u=_("el-input"),n=_("el-table-column"),C=_("el-table");return z(),I("div",j,[g("span",J,N(s.value),1),l(e,{type:"primary",size:"default",class:"add top",onClick:w,round:""},{default:d(()=>[m("添加")]),_:1}),O,R,l(u,{modelValue:v(i),"onUpdate:modelValue":o[0]||(o[0]=c=>$(i)?i.value=c:i=c),placeholder:"请输入要搜索的单词",class:"serach top"},null,8,["modelValue"]),l(e,{type:"warning",size:"default",round:"",class:"sinput top",onClick:x},{default:d(()=>[m("搜索")]),_:1}),g("div",U,[l(C,{data:v(t),stripe:"",style:{width:"90%"},class:"table"},{default:d(()=>[l(n,{type:"index",label:"序号",width:"110",align:"center"}),l(n,{prop:"eng",label:"英文",width:"180",align:"center"}),l(n,{prop:"chi",label:"中文",width:"180",align:"center"}),l(n,{prop:"",label:"操作",align:"center"},{default:d(c=>[l(e,{type:"success",size:"default",onClick:k=>b(c),round:""},{default:d(()=>[m("修改")]),_:2},1032,["onClick"]),l(e,{type:"danger",size:"default",onClick:k=>y(c),round:""},{default:d(()=>[m("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])])}}});const q=L(D,[["__scopeId","data-v-82390713"]]);export{q as default};
